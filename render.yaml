services:
  - type: web
    name: bvg-sbahn-bot
    env: python
    plan: free
    buildCommand: |
      pip install --upgrade pip
      pip install -r requirements.txt

    startCommand: |
      python -m playwright install && uvicorn app.main:app --host 0.0.0.0 --port $PORT
    healthCheckPath: /health

envVars:
  - key: DATABASE_URL
    fromDatabase:
      name: bot-db
      property: connectionString
  - key: RUN_TOKEN
    sync: false
  - key: TWIKIT_USERNAME
    sync: false
  - key: TWIKIT_EMAIL
    sync: false
  - key: TWIKIT_PASSWORD
    sync: false
  - key: TWEET_SERVICE_URL
    value: https://tweet-service.onrender.com/tweet
  - key: TWEET_API_KEY
    sync: false

databases:
  - name: bot-db
